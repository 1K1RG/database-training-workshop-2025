---
title: "Setup Guide for Day 4"
authorId: "riza"
published: "2025-10-24"
---

> **Note**: This setup guide is designed for Linux systems, particularly Ubuntu. For **Windows users**, please use WSL2 or a Linux virtual machine.

0. **Install required software**

   ```bash
   sudo apt update
   sudo apt install -y bcftools build-essential
   ```

1.  **Install HDF5**

    - Download the HDF5 source package [here](https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.8/hdf5-1.8.23/src/hdf5-1.8.23.tar.gz).

2.  **Extract the Source Code**
    - Extract the source from the hdf5-1.8.23.tar.gz file
      ```bash
      tar -xzvf hdf5-1.8.23.tar.gz
      ```
    - Navigate to the extracted directory
      ```bash
      cd hdf5-1.8.23
      ```
3.  **Build and Install HDF5**

    - Use the following commands to configure, build, and install HDF5

      ```bash
      ./configure
      ```

      ```bash
      make
      ```

      ```bash
      make install
      ```

4.  **Compile Roven’s Program**

    - Download Roven’s script [here](https://github.com/1K1RG/1K1RG-Documentations/blob/master/resources/loadmatrix_SNP-annot.cpp)
    - Create a file named **build.sh** and add the following content:

          ``` bash
          #!/bin/bash

          main=hdf5-1.8.23/src
          lib=/home/riza/Tools/hdf5-1.8.23/hdf5/lib  # Change this path to where HDF5 was installed
          include=$main
          PATH="$main/bin:$PATH"
          export LD_RUN_PATH=$lib
          export LDFLAGS="-L$lib"
          export CPPFLAGS="-I$include"
          header=$include

          g++ -o loadmatrix_geno -I $header loadmatrix_SNP-annot.cpp -lhdf5 -L$lib
          ```

          ⚠️ **_Important_**:

      _Change the path assigned to the lib variable to match the directory where you installed the HDF5 library on your system_

    - Make **build.sh** executable

      ```bash
      chmod u+x build.sh
      ```

    - Run the script
      ```bash
      ./build.sh
      ```
    - Verify. Run the compiled program:

      ```bash
      ./loadmatrix_geno
      ```

      - You should see the following:

        ```bash
         ./loadmatrix_geno
         -r  Number of rows in the input genotype matrix
         -m chunk dimension (height)
         -n chunk dimernsion (width)
         -t transposed orientation
         -o output-file
         ERROR: Cannot open file.
        ```
