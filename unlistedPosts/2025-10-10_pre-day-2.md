---
title: "Setup Guide for Day 2 Session"
authorId: "g"
published: "2025-10-10"
---

_In progress_

## Step 1: Install PostgreSQL

### For Windows

**Using the Official Installer**

[Download link for PostgreSQL 14](https://sbp.enterprisedb.com/getfile.jsp?fileid=1259804&_gl=1*ulr2xn*_gcl_au*Nzc4MzQ1Mjc5LjE3NjAwMjU4OTA.*_ga*R0ExLjEuR0ExLjEuR0ExLjEuR0ExLjEuR0ExLjEuR0ExLjEuR0ExLjEuNjM3OTQ0NDIzLjE3NjAwMjU4OTE.*_ga_ND3EP1ME7G*czE3NjAwMjU4OTAkbzEkZzEkdDE3NjAwMjY0OTkkajYwJGwwJGg3Mzk2Nzg2NDc.)

### For macOS

**Using Homebrew**

```bash
# Install Homebrew if you haven't already
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

brew install postgresql@14
```

### For Ubuntu

```bash
sudo apt install postgresql
```

<!-- ## Step 2: Configure PostgreSQL

### Set up the postgres user password

**For Windows:**

Open Command Prompt or PowerShell as Administrator

```cmd
# Connect to PostgreSQL (you'll be prompted for the password you set during installation)
psql -U postgres
```

**For macOS and Linux:**

```bash
sudo -u postgres psql

# Set password for postgres user (replace 'your_password' with a secure password)
ALTER USER postgres PASSWORD 'your_password';

# Exit PostgreSQL
\q
```

### Configure authentication (Optional)

**For Linux systems:** If you want to use password authentication, edit the PostgreSQL configuration:

```bash
# Find the pg_hba.conf file location
sudo -u postgres psql -c "SHOW hba_file;"

# Edit the file (replace the path with your actual path)
sudo nano /etc/postgresql/14/main/pg_hba.conf

# Change the line:
# local   all             all                                     peer
# to:
# local   all             all                                     md5
```

After making changes, restart PostgreSQL:

```bash
# Linux
sudo systemctl restart postgresql

# macOS (if using Homebrew)
brew services restart postgresql@14
```

**For Windows:** Authentication is typically configured during installation, but you can modify it using pgAdmin or by editing the pg_hba.conf file in the PostgreSQL data directory. -->

## Step 2: Create the Rice Genome Database

### Connect to PostgreSQL

**For Windows:**

```
psql -U postgres
```

**For macOS (Homebrew):**

```bash
sudo -u postgres psql
```

**For macOS (Postgres.app):**

```bash
psql
```

**For Ubuntu:**

```bash
sudo -u postgres psql
```

### Create the Database

```sql
CREATE DATABASE rgdb;
\q
```

## Step 3: Download and Load the Database Dump

### Download the dump file containing the genome data from 163 rice varieties

[bit.ly/1k1rg](https://bit.ly/1k1rg)

### Load the dump file into PostgreSQL

**For Windows:**

```
psql -U postgres -d rgdb -f rgdb_dump.sql
```

<!-- # If you created a dedicated user:
psql -U rgdb_user -d rgdb -f rgdb_dump.sql -->

**For macOS and Linux:**

```bash
psql -U postgres -d rgdb -f ~/database_dumps/rgdb_dump.sql
```

<!-- # Method 2: If you created a dedicated user
psql -U rgdb_user -d rgdb -f ~/database_dumps/rgdb_dump.sql

# Method 3: Load from compressed file directly (Linux only)
# gunzip -c ~/database_dumps/rgdb_dump.sql.gz | psql -U postgres -d rgdb

# For macOS using Postgres.app (if postgres user doesn't exist):
psql -d rgdb -f ~/database_dumps/rgdb_dump.sql -->

<!-- ## Step 5: Verify the Installation

### Check if the database was loaded successfully

**For all operating systems:**

```sql
# Connect to the database
psql -U postgres -d rgdb

# List all tables
\dt

# Check a few sample queries (adjust table names based on your schema)
SELECT COUNT(*) FROM snp_featureloc;
SELECT COUNT(*) FROM variant_variantset;

# Exit PostgreSQL
\q
```

### Verify PostgreSQL service

**For Windows:**

```cmd
# Check if PostgreSQL service is running
sc query postgresql-x64-14

# Or use Services app (services.msc) to check PostgreSQL service status

# Check PostgreSQL version
psql --version

# Check available databases
psql -U postgres -l
```

**For macOS:**

```bash
# If using Homebrew:
brew services list | grep postgresql

# If using Postgres.app:
# Check if the app is running in your Applications

# Check PostgreSQL version
psql --version

# Check available databases
psql -U postgres -l
# Or if using Postgres.app: psql -l
```

**For Linux:**

**For Linux:**

```bash
# Check if PostgreSQL is running
sudo systemctl status postgresql

# Check PostgreSQL version
psql --version

# Check available databases
psql -U postgres -l
``` -->

<!-- ## Troubleshooting

### Common Issues and Solutions

1. **Connection refused error**

   **Windows:**

   ```cmd
   # Check if PostgreSQL service is running
   sc start postgresql-x64-14

   # Or restart the service
   sc stop postgresql-x64-14
   sc start postgresql-x64-14
   ```

   **macOS:**

   ```bash
   # If using Homebrew:
   brew services restart postgresql@14

   # If using Postgres.app: restart the application
   ```

   **Linux:**

   ```bash
   # Ensure PostgreSQL is running
   sudo systemctl start postgresql

   # Check if it's listening on the correct port
   sudo netstat -tlnp | grep 5432
   ```

2. **Authentication failed**

   **All systems:**

   ```sql
   # Reset postgres user password (run as admin/sudo)
   psql -U postgres -c "ALTER USER postgres PASSWORD 'newpassword';"
   ```

3. **Permission denied**

   **Windows:** Run Command Prompt or PowerShell as Administrator

   **macOS/Linux:**

   ```bash
   # Ensure the dump file has correct permissions
   chmod 644 ~/database_dumps/rgdb_dump.sql

   # Or try running with sudo (Linux only)
   sudo -u postgres psql -d rgdb -f ~/database_dumps/rgdb_dump.sql
   ```

4. **Database already exists error**

   **All systems:**

   ```sql
   # Drop and recreate the database
   psql -U postgres -c "DROP DATABASE IF EXISTS rgdb;"
   psql -U postgres -c "CREATE DATABASE rgdb;"
   ```

5. **psql command not found (Windows)**

   Add PostgreSQL bin directory to your system PATH:

   - Default location: `C:\Program Files\PostgreSQL\14\bin`
   - Or use the full path: `"C:\Program Files\PostgreSQL\14\bin\psql.exe"`

6. **Out of disk space** 6. **Out of disk space**

   **Windows:**

   ```cmd
   # Check available disk space
   dir C:\ /-c
   # Or use File Explorer to check disk space
   ```

   **macOS:**

   ```bash
   # Check available disk space
   df -h
   ```

   **Linux:**

   ```bash
   # Check available disk space
   df -h

   # Clean up if necessary and ensure you have enough space for the dump
   ``` -->

You're now ready for Day 2 session of the 1k1RG database training workshop! ðŸŽ‰
